/**
 * 
 */
$(function() {

	$("#spec_img").hide();
	$("#spec_font").hide();
	$("#spec_qr_code").hide();
	
	layui.use('form', function(){
		var form = layui.form();
		
		form.on('select(spec_type)', function(data){
			if(data.value==1)
			{
				$("#spec_img").show();
				$("#spec_font").hide();
				$("#spec_qr_code").hide();	
			}
			if(data.value==2)
			{
				$("#spec_font").show();
				$("#spec_img").hide();
				$("#spec_qr_code").hide();
			}
			if(data.value==3)
			{
				$("#spec_qr_code").show();
				$("#spec_img").hide();
				$("#spec_font").hide();
			}
		});
		
		form.verify({
			spec_name: function(value){
				if(value==""){
				return '请输入规格名称';
				}
			},
			spec_type: function(value){
				if(value==""){
				return '请选择规格类型';
				}
			},
			img_weight: function(value){
				if(value=="" && $("#spec_img").is(":visible")){
				return '请输入图片宽度';
				}
				if(isNaN(value) && $("#spec_img").is(":visible")){
				return '图片宽度必须为纯数字';
				}
			},
			img_height: function(value){
				if(value=="" && $("#spec_img").is(":visible")){
				return '请输入图片高度';
				}
				if(isNaN(value) && $("#spec_img").is(":visible")){
				return '图片高度必须为纯数字';
				}
			},
			max_font: function(value){
				if(value=="" && $("#spec_font").is(":visible")){
				return '请输入文字最大字符数';
				}
				if(isNaN(value) && $("#spec_font").is(":visible")){
				return '文字字符数必须为纯数字';
				}
			},
			qr_code: function(value){
				if(value=="" && $("#spec_qr_code").is(":visible")){
				return '请输入二维码最大字符数';
				}
				if(isNaN(value) && $("#spec_qr_code").is(":visible")){
				return '二维码字符数必须为纯数字';
				}
			}		
		});
		
		//提交表单
		form.on('submit(sub_spec)', function(data){
			var val=data.field;
			
			alert(val.spec_name)
		  return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
		});
	});
});
